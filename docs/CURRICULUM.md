# CURRICULUM.md — Load this file only when working on topics, subject coverage, or the 196 topic profiles

# Topic System

## ~196 Supported Topics (TOPIC_PROFILES keys)

### Class 1 Maths (8 topics)
1. Numbers 1 to 50 (Class 1) — counting, comparing, ordering 1-50
2. Numbers 51 to 100 (Class 1) — counting, comparing, ordering 51-100
3. Addition up to 20 (Class 1) — sums ≤20, no carrying, horizontal only
4. Subtraction within 20 (Class 1) — differences within 20, no borrowing
5. Basic Shapes (Class 1) — circle, square, triangle, rectangle only
6. Measurement (Class 1) — longer/shorter, heavier/lighter, no standard units
7. Time (Class 1) — days of week, morning/afternoon/night, no clock reading
8. Money (Class 1) — ₹1, ₹2, ₹5 coins only, totals ≤₹20

### Class 2 Maths (10 topics)
1. Numbers up to 1000 (Class 2) — 3-digit place value
2. Addition (2-digit with carry)
3. Subtraction (2-digit with borrow)
4. Multiplication (tables 2-5)
5. Division (sharing equally) — division by 2-5, no remainders
6. Shapes and space (2D) — circle, square, triangle, rectangle
7. Measurement (length, weight) — cm, m, kg, g
8. Time (hour, half-hour) — o'clock and half past only
9. Money (coins and notes) — amounts up to ₹100
10. Data handling (pictographs)

### Class 3 Maths (12 topics)
11. Addition (carries) — 3-digit with carry enforcement
12. Subtraction (borrowing) — 3-digit with borrow enforcement
13. Addition and subtraction (3-digit) — combined, uses `recipes_by_count` for 5/10/15/20
14. Multiplication (tables 2-10)
15. Division basics
16. Numbers up to 10000 — place value, comparison, expansion, ordering
17. Fractions (halves, quarters) — limited scope
18. Fractions — broader fractions
19. Time (reading clock, calendar)
20. Money (bills and change)
21. Symmetry
22. Patterns and sequences

### Class 4 Maths (10 topics)
23. Large numbers (up to 1,00,000) — Indian system, 5-digit
24. Addition and subtraction (5-digit)
25. Multiplication (3-digit × 2-digit)
26. Division (long division) — 3-digit ÷ 1-digit with remainder
27. Fractions (equivalent, comparison)
28. Decimals (tenths, hundredths)
29. Geometry (angles, lines)
30. Perimeter and area — rectangles, squares
31. Time (minutes, 24-hour clock)
32. Money (bills, profit/loss)

### Class 5 Maths (10 topics)
33. Numbers up to 10 lakh (Class 5) — Indian system, 7-digit
34. Factors and multiples (Class 5)
35. HCF and LCM (Class 5)
36. Fractions (add and subtract) (Class 5) — unlike fractions
37. Decimals (all operations) (Class 5)
38. Percentage (Class 5)
39. Area and volume (Class 5) — cubes, cuboids
40. Geometry (circles, symmetry) (Class 5)
41. Data handling (pie charts) (Class 5)
42. Speed distance time (Class 5)

### Class 1 English (7 topics)
43. Alphabet (Class 1), 44. Phonics (Class 1), 45. Self and Family Vocabulary (Class 1), 46. Animals and Food Vocabulary (Class 1), 47. Greetings and Polite Words (Class 1), 48. Seasons (Class 1), 49. Simple Sentences (Class 1)

### Class 2 English (6 topics)
50. Nouns (Class 2), 51. Verbs (Class 2), 52. Pronouns (Class 2), 53. Sentences (Class 2), 54. Rhyming Words (Class 2), 55. Punctuation (Class 2)

### Class 3 English (8 topics)
56. Nouns (Class 3), 57. Verbs (Class 3), 58. Adjectives (Class 3), 59. Pronouns (Class 3), 60. Tenses (Class 3), 61. Punctuation (Class 3), 62. Vocabulary (Class 3), 63. Reading Comprehension (Class 3)

### Class 4 English (8 topics)
64. Tenses (Class 4), 65. Sentence Types (Class 4), 66. Conjunctions (Class 4), 67. Prepositions (Class 4), 68. Adverbs (Class 4), 69. Prefixes and Suffixes (Class 4), 70. Vocabulary (Class 4), 71. Reading Comprehension (Class 4)

### Class 5 English (9 topics)
72. Active and Passive Voice (Class 5), 73. Direct and Indirect Speech (Class 5), 74. Complex Sentences (Class 5), 75. Summary Writing (Class 5), 76. Comprehension (Class 5), 77. Synonyms and Antonyms (Class 5), 78. Formal Letter Writing (Class 5), 79. Creative Writing (Class 5), 80. Clauses (Class 5)

### Class 1 EVS (6 topics)
81. My Family (Class 1), 82. My Body (Class 1), 83. Plants Around Us (Class 1), 84. Animals Around Us (Class 1), 85. Food We Eat (Class 1), 86. Seasons and Weather (Class 1)

### Class 2 EVS (6 topics)
87. Plants (Class 2-EVS), 88. Animals and Habitats (Class 2), 89. Food and Nutrition (Class 2), 90. Water (Class 2), 91. Shelter (Class 2), 92. Our Senses (Class 2)

### Class 3 Science (7 topics)
93. Plants (Class 3), 94. Animals (Class 3), 95. Food and Nutrition (Class 3), 96. Shelter (Class 3), 97. Water (Class 3), 98. Air (Class 3), 99. Our Body (Class 3)

### Class 4 Science (7 topics)
100. Living Things (Class 4), 101. Human Body (Class 4), 102. States of Matter (Class 4), 103. Force and Motion (Class 4), 104. Simple Machines (Class 4), 105. Photosynthesis (Class 4), 106. Animal Adaptation (Class 4)

### Class 5 Science (7 topics)
107. Circulatory System (Class 5), 108. Respiratory and Nervous System (Class 5), 109. Reproduction in Plants and Animals (Class 5), 110. Physical and Chemical Changes (Class 5), 111. Forms of Energy (Class 5), 112. Solar System and Earth (Class 5), 113. Ecosystem and Food Chains (Class 5)

### Class 1 Computer (2 topics)
114. Parts of Computer (Class 1), 115. Using Mouse and Keyboard (Class 1)

### Class 2 Computer (3 topics)
116. Desktop and Icons (Class 2), 117. Basic Typing (Class 2), 118. Special Keys (Class 2)

### Class 3 Computer (3 topics)
119. MS Paint Basics (Class 3), 120. Keyboard Shortcuts (Class 3), 121. Files and Folders (Class 3)

### Class 4 Computer (3 topics)
122. MS Word Basics (Class 4), 123. Introduction to Scratch (Class 4), 124. Internet Safety (Class 4)

### Class 5 Computer (4 topics)
125. Scratch Programming (Class 5), 126. Internet Basics (Class 5), 127. MS PowerPoint Basics (Class 5), 128. Digital Citizenship (Class 5)

### Class 1 Hindi (4 topics)
129. Varnamala Swar (Class 1), 130. Varnamala Vyanjan (Class 1), 131. Family Words (Class 1), 132. Simple Sentences (Class 1)

### Class 2 Hindi (5 topics)
133. Matras Introduction (Class 2), 134. Two Letter Words (Class 2), 135. Three Letter Words (Class 2), 136. Rhymes and Poems (Class 2), 137. Nature Vocabulary (Class 2)

### Class 3 Hindi (5 topics)
138. Varnamala (Class 3), 139. Matras (Class 3), 140. Shabd Rachna (Class 3), 141. Vakya Rachna (Class 3), 142. Kahani Lekhan (Class 3)

### Class 4 Hindi (5 topics)
143. Anusvaar and Visarg (Class 4), 144. Vachan and Ling (Class 4), 145. Kaal (Class 4), 146. Patra Lekhan (Class 4), 147. Comprehension Hindi (Class 4)

### Class 5 Hindi (5 topics)
148. Muhavare (Class 5), 149. Paryayvachi Shabd (Class 5), 150. Vilom Shabd (Class 5), 151. Samas (Class 5), 152. Samvad Lekhan (Class 5)

### Class 3 GK (4 topics)
153. Famous Landmarks (Class 3), 154. National Symbols (Class 3), 155. Solar System Basics (Class 3), 156. Current Awareness (Class 3)

### Class 4 GK (4 topics)
157. Continents and Oceans (Class 4), 158. Famous Scientists (Class 4), 159. Festivals of India (Class 4), 160. Sports and Games (Class 4)

### Class 5 GK (4 topics)
161. Indian Constitution (Class 5), 162. World Heritage Sites (Class 5), 163. Space Missions (Class 5), 164. Environmental Awareness (Class 5)

### Class 1 Moral Science (2 topics)
165. Sharing (Class 1), 166. Honesty (Class 1)

### Class 2 Moral Science (2 topics)
167. Kindness (Class 2), 168. Respecting Elders (Class 2)

### Class 3 Moral Science (3 topics)
169. Teamwork (Class 3), 170. Empathy (Class 3), 171. Environmental Care (Class 3)

### Class 4 Moral Science (1 topic)
172. Leadership (Class 4)

### Class 5 Moral Science (2 topics)
173. Global Citizenship (Class 5), 174. Digital Ethics (Class 5)

### Class 1 Health & PE (3 topics)
175. Personal Hygiene (Class 1), 176. Good Posture (Class 1), 177. Basic Physical Activities (Class 1)

### Class 2 Health & PE (3 topics)
178. Healthy Eating Habits (Class 2), 179. Outdoor Play (Class 2), 180. Basic Stretching (Class 2)

### Class 3 Health & PE (3 topics)
181. Balanced Diet (Class 3), 182. Team Sports Rules (Class 3), 183. Safety at Play (Class 3)

### Class 4 Health & PE (3 topics)
184. First Aid Basics (Class 4), 185. Yoga Introduction (Class 4), 186. Importance of Sleep (Class 4)

### Class 5 Health & PE (3 topics)
187. Fitness and Stamina (Class 5), 188. Nutrition Labels Reading (Class 5), 189. Mental Health Awareness (Class 5)

---

## Topic Profile Structure

Each **Maths** profile has: `allowed_skill_tags`, `allowed_slot_types`, `disallowed_keywords`, `disallowed_visual_types`, `default_recipe`, optional `recipes_by_count`.

Subject profiles additionally carry `subject: "<Subject>"` and use the corresponding format table:

| Subject | Format table | Visual hydration |
|---|---|---|
| Maths | `VALID_FORMATS` | Yes (SVG visuals) |
| English | `VALID_FORMATS_ENGLISH` | No (text-only) |
| Science / EVS / GK / Moral Science / Computer / Health | `VALID_FORMATS_SCIENCE` | No (text-only) |
| Hindi | `VALID_FORMATS_HINDI` | No (text-only, Devanagari) |

---

## Valid Formats per Slot

### Maths
```
recognition:     {column_setup, place_value, simple_identify, fraction_number, clock_question,
                  calendar_question, money_question, symmetry_question, shape_pattern,
                  division_problem, place_value_question, comparison_question, multiplication_problem}
application:     {word_problem, sequence_question, symmetry_complete, pattern_question,
                  ordering_question, comparison_question}
representation:  {missing_number, estimation, place_value, shape_question, expanded_form}
error_detection: {error_spot}
thinking:        {thinking, growing_pattern, multi_step}
```

### English
```
recognition:     {identify_noun, identify_verb, identify_adjective, identify_pronoun,
                  identify_adverb, identify_preposition, identify_conjunction, identify_tense,
                  identify_sentence_type, identify_prefix, identify_suffix, identify_rhyme,
                  identify_punctuation, pick_correct}
application:     {fill_in_blank, rewrite_sentence, match_columns, use_in_sentence,
                  word_problem_english, correct_sentence}
representation:  {complete_sentence, rearrange_words, change_form, expand_sentence, paragraph_cloze}
error_detection: {error_spot_english}
thinking:        {explain_why, creative_writing}
```

### Science
```
recognition:     {identify_part, classify_object, true_false, match_function,
                  label_diagram, pick_correct_science}
application:     {explain_why_science, what_happens_if, give_example,
                  compare_two, word_problem_science}
representation:  {fill_diagram, sequence_steps, cause_effect, complete_sentence_science}
error_detection: {error_spot_science}
thinking:        {thinking_science, multi_step_science}
```

### Hindi
```
recognition:     {identify_letter, identify_matra, identify_word_type, pick_correct_hindi,
                  match_letter_sound}
application:     {fill_matra, make_word, make_sentence_hindi, word_problem_hindi,
                  use_in_sentence_hindi}
representation:  {complete_word, complete_sentence_hindi, rearrange_letters, word_formation}
error_detection: {error_spot_hindi}
thinking:        {explain_meaning, creative_writing_hindi}
```

---

## Topic Alias Resolution

`get_topic_profile()` resolves frontend short names → canonical profile keys via `_TOPIC_ALIASES` + fuzzy matching.

Key aliases:
- `"Addition"` → `"Addition (carries)"`
- `"Multiplication"` → `"Multiplication (tables 2-10)"`
- `"Numbers"` / `"Place Value"` → `"Numbers up to 10000"`
- `"add/sub"` → `"Addition and subtraction (3-digit)"`

In `run_slot_pipeline()`, the topic is canonicalized early so all downstream lookups use the canonical key.

## Topic Constraints

`_TOPIC_CONSTRAINTS` provides per-topic LLM prompt guardrails for non-arithmetic topics (e.g., "NEVER generate addition/subtraction questions" for Symmetry). Arithmetic topics don't need constraints.

## Topic Instruction Builders

`_build_slot_instruction()` has early-return blocks per topic with VERIFY rules and dedup guards. Each block includes "DO NOT repeat the same numbers or scenarios" directives.

---

## Content Doctrine

- One micro-skill per worksheet
- 20% Recognition, 40% Application, 20% Representation, 10% Error Detection, 10% Thinking
- At least one misconception question per worksheet
- Progressive difficulty

## Slot Plans (exact, no rounding)

| Questions | R | A | Rep | ED | T |
|---|---|---|---|---|---|
| 5 | 1 | 1 | 1 | 1 | 1 |
| 10 | 2 | 4 | 2 | 1 | 1 |
| 15 | 3 | 6 | 3 | 2 | 1 |
| 20 | 4 | 8 | 4 | 2 | 2 |

Non-standard counts use proportional fallback with mandatory ED≥1, T≥1.
